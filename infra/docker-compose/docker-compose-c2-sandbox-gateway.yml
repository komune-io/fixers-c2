services:
  coop-rest-java:
    container_name: coop-rest-bclan-${DOCKER_NETWORK}
    image: ${DOCKER_REPOSITORY}c2-sandbox-ssm-gateway:${VERSION_C2}
    environment:
      # Increase direct buffer memory for Netty (Paketo default 10M is too low)
      # This appends to JAVA_TOOL_OPTIONS; JVM uses last value for duplicate flags
      - JAVA_TOOL_OPTIONS=-XX:MaxDirectMemorySize=256m
    ports:
      - "9090:9090"
    networks:
      - net

networks:
  net:
    name: ${DOCKER_NETWORK}
    external: true
